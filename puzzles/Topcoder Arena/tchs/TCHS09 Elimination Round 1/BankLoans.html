<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>TopCoder TCHS09 Elimination Round 1 - 500: BankLoans</title>
    
    <link type="image/x-icon" rel="shortcut icon" href="http://www.topcoder.com/i/favicon.ico"/>
    

    
    <style type="text/css">
        /* font */
body {
    font-family: Helvetica, Arial, Verdana, sans-serif;
    font-size: 16px;
    line-height: 1.2em;
}
ul.constraints > li:before, ul.notes > li:before {
    font-family: monospace;
    font-weight: normal;
}
.heading {
    font-weight: bold;
    font-size: 175%;
    line-height: 1.2em;
}
.section .section-title {
    font-weight: bold;
    font-size: 125%;
}
ol.testcases > li:before {
    font-family: monospace;
}
type {
    font-weight: bold;
    font-family: monospace;
}
li.testcase .data {
    font-family: monospace;
    line-height: 1.5em;
}

/* layout */
.heading {
    margin-top: 0.1em;
    margin-bottom:0.1em;
    text-align: center;
}
.section .section-title {
    margin-top : 1em;
    margin-bottom: 1em;
}
.problem-intro, note, user-constraint {
    padding-left: 1.25em;
}

/* Lists */
ul.constraints, ul.notes, ul.variables, ul.problem-definition-lines {
    list-style-type: none;
    padding: 0px;
}
ul.constraints > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}
ul.notes > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}

/* Testcases */
li.testcase {
    line-height: 1.1em;
    padding-top: 0.625em;
    padding-bottom: 0.625em;
    overflow: auto;
}
li.testcase > .testcase-content > div { padding-bottom: 0.5em; padding-left: 1em; }

li.testcase .testcase-comment {
    margin: 0;
    padding-left: 1em;
}
.testcase-comment p:first-child { margin-top: 0; }
.testcase-comment p:last-child { margin-bottom: 0; }

li.testcase .testcase-content {
    margin: 0.31em;
}

/* Data and variables */
.testcase-output {
    padding: 0.2em 1em 0.2em 0em;
}
.variables, .testcase-output {
    margin-left: 0.5em;
    display: table;
    margin-bottom: 0px;
    margin-top: 0px;
}
.variable {
    display: table-row;
}
.variable .name {
    padding: 0.2em 0em 0.2em 1em;
    font-weight: bold;
    display: table-cell;
    text-align: right;
}
.testcase-output .prefix {
    padding: 0.2em 0em 0.2em 1em;
    display: table-cell;
}
.testcase-output .prefix:after {
    content : ":";
    padding-right: 0.5em;
}
.variable .name:after {
    font-weight: bold;
    content : ":";
    padding-right: 0.5em;
}
.variable .value, .testcase-output .value {
    padding: 0.2em 1em 0.2em 0em;
    display: table-cell;
}
ol.testcases {
    padding: 0px;
    counter-reset: test_number -1;
}
ol.testcases > li {
    list-style:none;
}
ol.testcases > li:before {
    counter-increment:test_number;
    display: block;
    clear: both;
    content:counter(test_number) ")";
    color: inherit;
    background: inherit;
}

/* Problem Definition */
.problem-definition, .problem-limits {
    padding-left: 1.25em;
}
.problem-definition-lines, .limit-lines {
    display: table;
    margin-top: 0px;
    margin-bottom: 0px;
    padding-left: 0px;
}
.definition-line, .limit-line {
    display: table-row;
    height: 1.5em;
    overflow: auto;
}
.limit-name:after {
    content: ":";
    margin-right: 1em;
}
.definition-name, .definition-value, .limit-name, .limit-value {
    display: table-cell;
}
.definition-value {
    padding-left: 0.5em;
}
.definition-name:after {
    content: ":";
}
#contest-division:before {
    content: "Div ";
}
#problem-score:before {
    content: "- Problem ";
}
#problem-name {
    display: block;
}

/* Tags, hidden default */
.tag {
    visibility: hidden;
    position: absolute;
}

        body {
    /* font color */
    color: #333333;
    /* background color */
    background-color: white;
}
.section .section-title {
    /* title color */
    color: black;
}
li.testcase .data {
    /* highlight color */
    background: #eee;
}

    </style>
    
    
    

</head>

<body>
    <h1 class="heading">
        <span id='contest-name'>TCHS09 Elimination Round 1</span>
        <span id='contest-division'>1</span>
        <span id='problem-score'>500</span>
        <span id='problem-name'>BankLoans</span>
    </h1>

    <hr />

    <!-- Problem Statement -->
    <div class="section">
        <h2 class="section-title">Problem Statement</h2>
        <div class="problem-intro">
            <intro escaped="1">You are working as an analyst in the credit department of a bank. The bank has just issued several loans, each to be repaid with interest.  Unfortunately, some debtors are unreliable and will not pay any money back to the bank.  Your task is to estimate the expected profit the bank will get from this set of loans.
<br />
You are given a <type>String[]</type> <b>loans</b>, each element of which represents a single loan and is formatted as &quot;AMOUNT INTEREST CLASS&quot; (quotes for clarity only).  AMOUNT is the base amount of the loan, INTEREST is the amount of interest the debtor must pay, and CLASS is the name of the debtor's risk class. You are also given a <type>String[]</type> <b>riskClasses</b>, each element of which represents a single risk class and is formatted as &quot;CLASS PROB&quot; (quotes for clarity only).  CLASS is the name of the risk class, and PROB is the percent probability of a debtor in that risk class turning out to be unreliable.
<br />
An unreliable debtor will pay no money back to the bank.  A reliable debtor will pay back the entire amount of the loan plus all of the interest.  The bank's profit is the total amount of money (including interest) the bank will get back from its debtors minus the total amount of money it loaned out.  Return the expected profit for the described set of loans.</intro>
        </div>
    </div>
    
    <!-- Problem definition -->
    
    <div class="section" id="definition">
        <h2 class="section-title">Definition</h2>
        <div class="problem-definition">
            <ul class="problem-definition-lines">
                <li class="definition-line" id='class-line'>
                    <span class='definition-name'>Class</span>
                    <span class='definition-value'>BankLoans</span>
                </li>
                <li class="definition-line" id='method-line'>
                    <span class='definition-name'>Method</span>
                    <span class='definition-value'>expectedProfit</span>
                </li>
                <li class="definition-line" id='parameters-line'>
                    <span class='definition-name'>Parameters</span>
                    <span class='definition-value'>
                    
                        tuple(string)
                    , 
                        tuple(string)
                    
                    </span>
                </li>
                <li class="definition-line" id='returns-line'>
                    <span class='definition-name'>Returns</span>
                    <span class='definition-value'>
                        float
                    </span>
                </li>
                <li class="definition-line" id='signature-line'>
                    <span class='definition-name'>Method signature</span>
                    <span class='definition-value'>
                        def expectedProfit(self, loans, riskClasses)
                    </span>
                </li>
            </ul>
            <div class="problem-definition-public-tip">(be sure your method is public)</div>
        </div>        
    </div>
    

    <!-- Limits -->
    <div class="section">
        <h2 class="section-title">Limits</h2>
        <div class='problem-limits'>
            <ul class="limit-lines">
                <li class='limit-line'>
                    <span class='limit-name'>Time limit (s)</span>
                    <span class='limit-value'>2.000</span>
                </li>
                <li class='limit-line'>
                    <span class='limit-name'>Memory limit (MB)</span>
                    <span class='limit-value'>64</span>
                </li>
            </ul>
        </div>
    </div>

    
    <!-- Notes -->
    <div class="section">
        <h2 class="section-title">Notes</h2>
        <ul class="notes">
        
            <li><note escaped="1">For the purposes of this problem we assume that debtors make their decisions on returning the loans independently.</note></li>
        
            <li><note escaped="1">The returned value must have an absolute or relative error less than 1e-9.</note></li>
        
        </ul>
    </div>
    
    
    <!-- Constraints -->
    <div class="section">
        <h2 class="section-title">Constraints</h2>
        <ul class="constraints">
        
            <li><user-constraint escaped="1"><b>loans</b> will contain between 1 and 50 elements, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>loans</b> will contain between 8 and 28 characters, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>loans</b> will be formatted as &quot;AMOUNT INTEREST CLASS&quot; (quotes for clarity only), where AMOUNT is an integer between 100 and 100000, inclusive, without leading zeroes, INTEREST is an integer between 10 and 20000, inclusive, without leading zeroes, and CLASS is a non-empty sequence of lowercase letters ('a'-'z').</user-constraint></li>
        
            <li><user-constraint escaped="1"><b>riskClasses</b> will contain between 1 and 50 elements, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>riskClasses</b> will contain between 3 and 19 characters, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>riskClasses</b> will be formatted as &quot;CLASS PROB&quot; (quotes for clarity only), where CLASS is a non-empty sequence of lowercase letters ('a'-'z'), and PROB is an integer between 0 and 100, inclusive, without extra leading zeroes.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each CLASS will contain between 1 and 15 characters, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1">All CLASSes in <b>riskClasses</b> will be distinct.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each CLASS in <b>loans</b> will be described in <b>riskClasses</b>.</user-constraint></li>
        
        </ul>
    </div>

    <!-- Test cases -->
    <div class="section">
        <h2 class="section-title">Test cases</h2>
        <ol class="testcases" start='0'>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">loans</span>
                                <span class="value data">
                                
                                    { &quot;1000 100 a&quot;, &quot;500 80 b&quot;, &quot;600 120 c&quot; }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">riskClasses</span>
                                <span class="value data">
                                
                                    { &quot;a 0&quot;, &quot;b 5&quot;, &quot;c 10&quot; }
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            199.0
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">The profit from the first loan is 100, since the debitor is reliable with probability 1.0. For the second loan the bank receives a profit of 80 with probability 0.95 and loses the initial amount of 500 with probability 0.05, so the expected profit is 80*0.95-500*0.05=51. For the third loan the expected profit is 48.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">loans</span>
                                <span class="value data">
                                
                                    {&quot;1000 150 beta&quot;,<br />&nbsp;&quot;1500 200 beta&quot;,<br />&nbsp;&quot;2000 250 beta&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">riskClasses</span>
                                <span class="value data">
                                
                                    { &quot;alpha 0&quot;, &quot;beta 10&quot;, &quot;gamma 20&quot; }
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            90.0
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">It is possible to have no debtors of a certain risk class.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">loans</span>
                                <span class="value data">
                                
                                    { &quot;1000 400 hopeless&quot;, &quot;1000 400 bad&quot;, &quot;1000 400 weak&quot; }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">riskClasses</span>
                                <span class="value data">
                                
                                    { &quot;weak 50&quot;, &quot;bad 75&quot;, &quot;hopeless 100&quot; }
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            -1950.0
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">The expected profit can be negative despite a high interest rate.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">loans</span>
                                <span class="value data">
                                
                                    { &quot;500 55 ok&quot;, &quot;1500 170 fine&quot; }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">riskClasses</span>
                                <span class="value data">
                                
                                    { &quot;ok 10&quot;, &quot;fine 10&quot; }
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            2.5
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">loans</span>
                                <span class="value data">
                                
                                    { &quot;8132 19387 s&quot;, &quot;20219 1791 iarkhyvewuqo&quot;, &quot;19219 4464 s&quot;, &quot;6947 18098 s&quot;, &quot;28985 7338 iarkhyvewuqo&quot;, &quot;21878 7894 iarkhyvewuqo&quot;, &quot;21495 8307 s&quot; }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">riskClasses</span>
                                <span class="value data">
                                
                                    { &quot;s 13&quot;, &quot;iarkhyvewuqo 16&quot; }
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            39395.83
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
        </ol>
    </div>
    <hr />

    This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2003, TopCoder, Inc. All rights reserved.
</body>
</html>
