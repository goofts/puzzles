<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>TopCoder TCHS SRM 19 - 1000: RubeGoldberg</title>
    
    <link type="image/x-icon" rel="shortcut icon" href="http://www.topcoder.com/i/favicon.ico"/>
    

    
    <style type="text/css">
        /* font */
body {
    font-family: Helvetica, Arial, Verdana, sans-serif;
    font-size: 16px;
    line-height: 1.2em;
}
ul.constraints > li:before, ul.notes > li:before {
    font-family: monospace;
    font-weight: normal;
}
.heading {
    font-weight: bold;
    font-size: 175%;
    line-height: 1.2em;
}
.section .section-title {
    font-weight: bold;
    font-size: 125%;
}
ol.testcases > li:before {
    font-family: monospace;
}
type {
    font-weight: bold;
    font-family: monospace;
}
li.testcase .data {
    font-family: monospace;
    line-height: 1.5em;
}

/* layout */
.heading {
    margin-top: 0.1em;
    margin-bottom:0.1em;
    text-align: center;
}
.section .section-title {
    margin-top : 1em;
    margin-bottom: 1em;
}
.problem-intro, note, user-constraint {
    padding-left: 1.25em;
}

/* Lists */
ul.constraints, ul.notes, ul.variables, ul.problem-definition-lines {
    list-style-type: none;
    padding: 0px;
}
ul.constraints > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}
ul.notes > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}

/* Testcases */
li.testcase {
    line-height: 1.1em;
    padding-top: 0.625em;
    padding-bottom: 0.625em;
    overflow: auto;
}
li.testcase > .testcase-content > div { padding-bottom: 0.5em; padding-left: 1em; }

li.testcase .testcase-comment {
    margin: 0;
    padding-left: 1em;
}
.testcase-comment p:first-child { margin-top: 0; }
.testcase-comment p:last-child { margin-bottom: 0; }

li.testcase .testcase-content {
    margin: 0.31em;
}

/* Data and variables */
.testcase-output {
    padding: 0.2em 1em 0.2em 0em;
}
.variables, .testcase-output {
    margin-left: 0.5em;
    display: table;
    margin-bottom: 0px;
    margin-top: 0px;
}
.variable {
    display: table-row;
}
.variable .name {
    padding: 0.2em 0em 0.2em 1em;
    font-weight: bold;
    display: table-cell;
    text-align: right;
}
.testcase-output .prefix {
    padding: 0.2em 0em 0.2em 1em;
    display: table-cell;
}
.testcase-output .prefix:after {
    content : ":";
    padding-right: 0.5em;
}
.variable .name:after {
    font-weight: bold;
    content : ":";
    padding-right: 0.5em;
}
.variable .value, .testcase-output .value {
    padding: 0.2em 1em 0.2em 0em;
    display: table-cell;
}
ol.testcases {
    padding: 0px;
    counter-reset: test_number -1;
}
ol.testcases > li {
    list-style:none;
}
ol.testcases > li:before {
    counter-increment:test_number;
    display: block;
    clear: both;
    content:counter(test_number) ")";
    color: inherit;
    background: inherit;
}

/* Problem Definition */
.problem-definition, .problem-limits {
    padding-left: 1.25em;
}
.problem-definition-lines, .limit-lines {
    display: table;
    margin-top: 0px;
    margin-bottom: 0px;
    padding-left: 0px;
}
.definition-line, .limit-line {
    display: table-row;
    height: 1.5em;
    overflow: auto;
}
.limit-name:after {
    content: ":";
    margin-right: 1em;
}
.definition-name, .definition-value, .limit-name, .limit-value {
    display: table-cell;
}
.definition-value {
    padding-left: 0.5em;
}
.definition-name:after {
    content: ":";
}
#contest-division:before {
    content: "Div ";
}
#problem-score:before {
    content: "- Problem ";
}
#problem-name {
    display: block;
}

/* Tags, hidden default */
.tag {
    visibility: hidden;
    position: absolute;
}

        body {
    /* font color */
    color: #333333;
    /* background color */
    background-color: white;
}
.section .section-title {
    /* title color */
    color: black;
}
li.testcase .data {
    /* highlight color */
    background: #eee;
}

    </style>
    
    
    

</head>

<body>
    <h1 class="heading">
        <span id='contest-name'>TCHS SRM 19</span>
        <span id='contest-division'>1</span>
        <span id='problem-score'>1000</span>
        <span id='problem-name'>RubeGoldberg</span>
    </h1>

    <hr />

    <!-- Problem Statement -->
    <div class="section">
        <h2 class="section-title">Problem Statement</h2>
        <div class="problem-intro">
            <intro escaped="1"><p>
Little Lucy's science project is really giving her a hard time.  Her project requires that she build a Rube Goldberg device.  A Rube Goldberg device is a device that performs a simple task in a convoluted way.  In Lucy's case, she will be performing a series of energy transfers using a variety of <b>parts</b>.  Each part will be formatted as &quot;INPUT OUTPUT TIME&quot;, where INPUT is the type of energy required to start the part, OUTPUT is the type of energy released once the part has done its job, and TIME is the amount of time (in seconds) that the part takes to do its job.  Lucy's parts have four different types of energy available:  &quot;CHEMICAL&quot;, &quot;ELECTRIC&quot;, &quot;MECHANICAL&quot;, and &quot;THERMAL&quot;.
</p><p>
Lucy is going to put several of these devices in series to make a device that will run as close to <b>target</b> seconds as possible.  The device will only work if the output from one part can be used as the input to the subsequent part.  She can use any type of energy to start her machine, but she must use some part that releases <b>last</b> energy to complete the machine.
</p><p>
Given that Lucy has an infinite supply of each type of part, return the minimum absolute difference between the target time and the time that Lucy's machine operates.  
</p></intro>
        </div>
    </div>
    
    <!-- Problem definition -->
    
    <div class="section" id="definition">
        <h2 class="section-title">Definition</h2>
        <div class="problem-definition">
            <ul class="problem-definition-lines">
                <li class="definition-line" id='class-line'>
                    <span class='definition-name'>Class</span>
                    <span class='definition-value'>RubeGoldberg</span>
                </li>
                <li class="definition-line" id='method-line'>
                    <span class='definition-name'>Method</span>
                    <span class='definition-value'>howClose</span>
                </li>
                <li class="definition-line" id='parameters-line'>
                    <span class='definition-name'>Parameters</span>
                    <span class='definition-value'>
                    
                        tuple(string)
                    , 
                        string
                    , 
                        integer
                    
                    </span>
                </li>
                <li class="definition-line" id='returns-line'>
                    <span class='definition-name'>Returns</span>
                    <span class='definition-value'>
                        integer
                    </span>
                </li>
                <li class="definition-line" id='signature-line'>
                    <span class='definition-name'>Method signature</span>
                    <span class='definition-value'>
                        def howClose(self, parts, last, target)
                    </span>
                </li>
            </ul>
            <div class="problem-definition-public-tip">(be sure your method is public)</div>
        </div>        
    </div>
    

    <!-- Limits -->
    <div class="section">
        <h2 class="section-title">Limits</h2>
        <div class='problem-limits'>
            <ul class="limit-lines">
                <li class='limit-line'>
                    <span class='limit-name'>Time limit (s)</span>
                    <span class='limit-value'>2.000</span>
                </li>
                <li class='limit-line'>
                    <span class='limit-name'>Memory limit (MB)</span>
                    <span class='limit-value'>64</span>
                </li>
            </ul>
        </div>
    </div>

    
    
    <!-- Constraints -->
    <div class="section">
        <h2 class="section-title">Constraints</h2>
        <ul class="constraints">
        
            <li><user-constraint escaped="1"><b>parts</b> will contain between 0 and 50 elements, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>parts</b> will be formatted as &quot;INPUT OUTPUT TIME&quot; (quotes for clarity only).</user-constraint></li>
        
            <li><user-constraint escaped="1">In each element of <b>parts</b>, INPUT and OUTPUT will be one of &quot;CHEMICAL&quot;, &quot;ELECTRIC&quot;, &quot;MECHANICAL&quot;, and &quot;THERMAL&quot; (all quotes for clarity only).</user-constraint></li>
        
            <li><user-constraint escaped="1">In each element of <b>parts</b>, TIME will be an integer between 1 and 250000, inclusive, with no leading zeroes.</user-constraint></li>
        
            <li><user-constraint escaped="1"><b>last</b> will be one of &quot;CHEMICAL&quot;, &quot;ELECTRIC&quot;, &quot;MECHANICAL&quot;, and &quot;THERMAL&quot; (all quotes for clarity only).</user-constraint></li>
        
            <li><user-constraint escaped="1"><b>target</b> will be between 0 and 250000, inclusive.</user-constraint></li>
        
        </ul>
    </div>

    <!-- Test cases -->
    <div class="section">
        <h2 class="section-title">Test cases</h2>
        <ol class="testcases" start='0'>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">parts</span>
                                <span class="value data">
                                
                                    { &quot;CHEMICAL CHEMICAL 5&quot; }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">last</span>
                                <span class="value data">
                                
                                    &quot;CHEMICAL&quot;
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">target</span>
                                <span class="value data">
                                
                                    12
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            2
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">You start the reaction with chemical energy.  You can then put two copies of the part together, to get a total run time of 10.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">parts</span>
                                <span class="value data">
                                
                                    { &quot;THERMAL THERMAL 5&quot; }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">last</span>
                                <span class="value data">
                                
                                    &quot;THERMAL&quot;
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">target</span>
                                <span class="value data">
                                
                                    13
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            2
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">With the target being 13 instead, you should use 3 parts, overshooting by 2.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">parts</span>
                                <span class="value data">
                                
                                    {&quot;CHEMICAL THERMAL 6&quot;,<br />&nbsp;&quot;THERMAL CHEMICAL 3&quot;,<br />&nbsp;&quot;THERMAL CHEMICAL 5&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">last</span>
                                <span class="value data">
                                
                                    &quot;THERMAL&quot;
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">target</span>
                                <span class="value data">
                                
                                    123
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            0
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">parts</span>
                                <span class="value data">
                                
                                    { &quot;THERMAL CHEMICAL 4&quot;, &quot;CHEMICAL ELECTRIC 5&quot;, &quot;MECHANICAL THERMAL 8&quot;, &quot;ELECTRIC MECHANICAL 10&quot; }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">last</span>
                                <span class="value data">
                                
                                    &quot;MECHANICAL&quot;
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">target</span>
                                <span class="value data">
                                
                                    124
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            1
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">parts</span>
                                <span class="value data">
                                
                                    { &quot;CHEMICAL MECHANICAL 12&quot;, &quot;MECHANICAL THERMAL 13&quot;, &quot;THERMAL CHEMICAL 14&quot; }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">last</span>
                                <span class="value data">
                                
                                    &quot;ELECTRIC&quot;
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">target</span>
                                <span class="value data">
                                
                                    123456
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            123456
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">You have no &quot;ELECTRIC&quot; parts and so must start by using &quot;ELECTRIC&quot; energy, ending at time 0.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">parts</span>
                                <span class="value data">
                                
                                    { &quot;MECHANICAL THERMAL 12&quot;, &quot;CHEMICAL ELECTRIC 228&quot;, &quot;CHEMICAL CHEMICAL 3361&quot;, &quot;ELECTRIC ELECTRIC 4312&quot;, &quot;ELECTRIC CHEMICAL 1123&quot;, &quot;THERMAL MECHANICAL 15000&quot;, &quot;MECHANICAL MECHANICAL 15000&quot;, &quot;THERMAL THERMAL 20000&quot; }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">last</span>
                                <span class="value data">
                                
                                    &quot;THERMAL&quot;
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">target</span>
                                <span class="value data">
                                
                                    13579
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            1433
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
        </ol>
    </div>
    <hr />

    This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2003, TopCoder, Inc. All rights reserved.
</body>
</html>
